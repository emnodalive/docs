
info:
  title: Rocka Payments
  version: 1.0.0
  description: ''
  contact:
    email: support@rocka.live
openapi: 3.0.1
paths:
  "/api/payments/logo":
    post:
      operationId: Payment_LogoUrl
      summary: Display customised payment buttons
      description: ''
      tags:
        - Open banking payments
      requestBody:
        content:
          application/*+json:
            schema:
              type: object
              properties:
                currency:
                  type: string
                  description: 'Payment currency. Currently accepted: {GBP, EUR}'
                customerId:
                  type: string
                  description: Customer's unique identifier in your records.
                email:
                  type: string
                  description: Customer's email address.
                ipAddress:
                  type: string
                  description: Customer's IP address.
                country:
                  type: string
                  description: Customer's country's ISO 3166 code. For example, DE for Germany
                    or FR for France.
              required:
              - currency
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                title: Response_Logo
                description: Information for the button appearance configuration. Contains SVG
                  logo url, type {country, bank}, id and display name.
                x-examples:
                  'Example: GB':
                    value:
                      url: https://rocka.blob.core.windows.net/logo-button/gb.svg
                      type: country
                      id: gb
                      displayName: UNITED KINGDOM
                  'Example: Lloyds Bank':
                    value:
                      country: GB
                      type: bank
                      id: ob-lloyds
                      displayName: Lloyds
                      url: https://rocka.blob.core.windows.net/logo-button/ob-lloyds.svg
                properties:
                  url:
                    type: string
                    description: URL to the SVG logo that will be part of the button.
                  type:
                    enum:
                    - bank
                    - country
                    type: string
                    x-examples:
                      example-1:
                        value: bank
                    description: Button type (`bank` or `country`).
                  id:
                    type: string
                    description: Payment option choice. For example, country code or bank ID.
                  displayName:
                    type: string
                    description: Alternative display name for the payment option. For example,
                      United Kingdom or Lloyds Bank.
                  country:
                    type: string
                    description: Country's ISO 3166 code (only for `bank` buttons).
                required:
                - type
          description: ''
      security:
      - APItoken: []
  "/api/payments":
    post:
      operationId: Payment_PaymentUrl
      tags:
        - Open banking payments
      requestBody:
        content:
          application/*+json:
            schema:
              type: object
              title: Request_Payment
              description: Information for the new payment creation
              x-examples:
                Single GBP payment:
                  value:
                    amount: 1
                    currency: GBP
                    returnUrl: https://soundflare.com/order/20039471/complete
                    webhookUrl: https://api.soundflare.com/order/20039471/complete
                    shopId: d0c3ccd9-162c-497e-808b-e769aea89c58
                    description: Membership on SoundFlare
                    paymentId: '20039471'
                    customerId: 2145-a12
                    ipAddress: 145.12.55.11
                Single EUR payment:
                  value:
                    amount: 1
                    currency: EUR
                    returnUrl: https://soundflare.com/order/20039471/complete
                    webhookUrl: https://api.soundflare.com/order/20039471/complete
                    shopId: d0c3ccd9-162c-497e-808b-e769aea89c58
                    description: Membership on SoundFlare
                    paymentId: '20039471'
                    customerId: 2145-a1223
              properties:
                amount:
                  format: decimal
                  type: number
                  description: Payment amount in decimal format (e.g. 999.99).
                currency:
                  type: string
                  description: 'Payment currency. Currently accepted: {EUR, GBP, BGN, BRL, CAD, DKK, HUF, NOK, RON, SEK}.'
                  enum:
                    - EUR
                    - GBP
                    - BGN
                    - BRL
                    - CAD
                    - DKK
                    - HUF
                    - NOK
                    - RON
                    - SEK
                returnUrl:
                  type: string
                  description: The URL the customer is redirected to once the payment is completed.
                paymentId:
                  type: string
                  description: Order identifier in your records.
                webhookUrl:
                  type: string
                  description: Notification URL to which Rocka sends webhooks whenever the
                    payment's status changes.
                shopId:
                  type: string
                  description: Your website's identifier in Rocka's records. This parameter
                    is useful if you have more than one website.
                description:
                  type: string
                  description: Short payment description for the customer.
                customerId:
                  type: string
                  description: Customer's unique identifier in your records.
                email:
                  type: string
                  description: Customer's email address.
                providerId:
                  type: string
                  description: If used, the payment will be initiated directly with the defined
                    provider. Recommended to use in pair with /providers/top method.
                ipAddress:
                  type: string
                  description: Customer's IP Address.
                iban:
                  type: string
                  description: Customer's IBAN.
              required:
              - amount
              - currency
              - description
              - returnUrl
              - paymentId
            examples:
              Single EUR payment:
                value:
                  amount: 1.24
                  currency: EUR
                  customerId: CID-012456789-1
                  description: Order 1234-DS-1234
                  shopId: d0c3ccd9-162c-497e-808b-e769aea89c58
                  paymentId: 119318-123-test-1423
                  returnUrl: https://myshop.com/returnurl
                  webhookUrl: https://myshop.com/hookurl
              GBP Payment:
                value:
                  amount: 1
                  currency: GBP
                  customerId: GR-12456
                  description: Order 1412-DS-2
                  email: string
                  shopId: string
                  ipAddress: string
                  paymentId: 119318-123dsa-14
                  returnUrl: https://myshop.com/return
                  webhookUrl: https://myshop.com/hook
        required: true
        description: ''
      responses:
        '200':
          content:
            application/json:
              schema:
                  properties:
                    id:
                      type: string
                      description: The payment's ID.
                    url:
                      type: string
                      description: The link to the payment.
                  type: object
                  x-internal: false
          description: ''
        '400':
          description: One of the required parameters is missing or has an incorrect
            value.
      security:
      - APItoken: []
      x-codegen-request-body-name: request
      summary: Create a payment
      description: ''
    get:
      tags:
        - Manage your data
      operationId: Payments_GetAll
      summary: Export payments
      parameters:
      - name: merchantPaymentId
        in: query
        schema:
          type: string
          description: Your Rocka payment ID.
        x-position: 1
      - name: status
        in: query
        schema:
          description: 'Possible values: New, Awaiting Confirmation, Processing, Failed or Done.'
        x-position: 2
      - name: dateFrom
        in: query
        schema:
          type: string
          format: date-time
          description: Only include payments that were made after a certain date.
            YYYY-MM-DD.
        x-position: 3
      - name: dateTo
        in: query
        schema:
          type: string
          format: date-time
          description: Only include payments that were made before a certain date.
            YYYY-MM-DD.
        x-position: 4
      - name: limit
        in: query
        schema:
          type: string
          description: Limit the number of payments retrieved.
        x-position: 5
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  payments:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: The payment's ID in Rocka's systems.
                        merchantPaymentId:
                          type: string
                          description: Your shop's payment ID.
                        amount:
                          type: number
                          format: decimal
                          description: Payment amount.
                        currency:
                          type: string
                          description: Payment currency.
                        status:
                          description: Payment status.
                          type: string
                          x-enumNames:
                          - New
                          - Processing
                          - Failed
                          - AwaitingConfirmation
                          - Done
                          - Settled
                          - IncompleteSettlement
                        description:
                          type: string
                          description: Short payment description for the customer.
                        reference:
                          type: string
                          description: Payment reference.
                        createdDate:
                          type: string
                          format: date-time
                          description: Payment creation timestamp.
                        finalisedDate:
                          type: string
                          format: date-time
                          description: Payment completion timestamp.
                      required:
                      - id
                      - merchantPaymentId
                      - amount
                      - currency
                      - status
                      - description
                      - reference
                      - createdDate
                      - finalisedDate
                  continuationToken:
                    type: string
                    nullable: true
                    description: Pagination token used to help you access the next result page.
      security:
      - ApiKey: []
  "/api/payments/{id}":
    get:
      operationId: Payment_Get
      tags:
        - Open banking payments
      parameters:
      - in: path
        name: id
        required: true
        schema:
          description: The payment's ID, which is returned by the payment creation
            request and can also be found in your Rocka Hub.
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                  type: object
                  description: Response for the particular payment status
                  title: Response for payment status
                  properties:
                    amount:
                      format: decimal
                      type: number
                      description: Payment amount
                    currency:
                      type: string
                      description: Payment currency
                    id:
                      type: string
                      description: Payment ID in Rocka's systems.
                    status:
                      enum:
                      - New
                      - Processing
                      - Failed
                      - Awaiting confirmation
                      - Done
                      type: string
                      x-examples: {}
                      description: Payment status.
                    description:
                      type: string
                      description: Short payment description for the customer.
                  required:
                  - amount
                  - currency
                  - id
                  - status
          description: ''
      security:
      - APItoken: []
      summary: Check payment status
      description: ''
  "/api/providers/top":
    get:
      operationId: Get_Providers_Top
      tags:
        - Open banking payments
      parameters:
      - in: query
        name: country
        schema:
          type: string
          default: FR
        description: Country's ISO 3166 code. For example, DE for Germany or FR for
          France.
        required: true
      - in: query
        name: count
        schema:
          type: integer
          default: 5
        description: Number of banks to retrieve. Optional.
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                    type: object
                    x-examples:
                      example-1:
                        value:
                          country: string
                          id: string
                          isLoadAccounts: true
                          name: string
                    title: ProviderInfo
                    description: Providers information
                    properties:
                      id:
                        type: string
                        description: The bank's unique ID in Rocka's records.
                      isInstant:
                        type: boolean
                        description: Indicates whether this bank supports instant payments.
                      name:
                        type: string
                        description: The bank's name that is displayed to the customer.
                      logoUrl:
                        type: string
                        description: Link to the bank's logo.
                      iin:
                        type: integer
                        description: The bank's IIN.
                    required:
                    - id
                    - isInstant
                    - name
                    - logoUrl
          description: ''
      security:
      - APItoken: []
      x-internal: false
      summary: Get the list of top banks
      description: ''
    parameters: []

  "/api/payouts":
    post:
      operationId: Payout_PayoutUrl
      requestBody:
        content:
          application/json:
            schema:
              type: object
              title: Payout request
              x-examples:
                EUR payout:
                  amount: 100
                  currency: EUR
                  iban: DE75512108001245126199
                  beneficiaryName: Mark Schmidt
                  webhookUrl: https://stage.rocka.live/api/notification/apidocs?key=test-key-is-here
                  requestId: test_EUR
                GBP payout:
                  amount: 100
                  currency: GBP
                  sortCode: 100000
                  accountNumber: 31510604
                  beneficiaryName: John Doe
                  webhookUrl: https://stage.rocka.live/api/notification/apidocs?key=test-key-is-here
                  requestId: test_GBP
              description: Data needed to create a new payout
              properties:
                amount:
                  format: decimal
                  type: number
                  description: The total amount to be transferred, in decimal format.
                requestId:
                  type: string
                  description: The payout's unique identifier (to prevent duplicate requests).
                currency:
                  type: string
                  description: 'Payment currency. Currently accepted: EUR, GBP.'
                iban:
                  type: string
                  description: "(Only for EUR payouts) Recipient's IBAN (International Bank
                    Account Number)."
                accountNumber:
                  type: number
                  description: "(Only for GBP payouts) Recipient's account number (8 digits)."
                sortCode:
                  type: number
                  description: "(Only for GBP payouts) Recipient bank's sort code (6 digits).
                    Used to identify the beneficiary's bank and local branch."
                beneficiaryName:
                  type: string
                  description: Recipient's full name.
                webhookUrl:
                  type: string
                  description: The URL that'll be used to fetch payout status updates.
              required:
              - amount
              - currency
              - beneficiaryName
              - requestId

            examples:
              EUR payout:
                value:
                  amount: 10
                  currency: EUR
                  iban: DE75512108001245126199
                  beneficiaryName: Mark Schmidt
                  webhookUrl: https://stage.rocka.live/api/notification/apidocs?key=test-key-is-here
                  requestId: test_EUR
              GBP payout:
                value:
                  amount: 10
                  currency: GBP
                  sortCode: 100000
                  accountNumber: 31510604
                  beneficiaryName: John Doe
                  webhookUrl: https://stage.rocka.live/api/notification/apidocs?key=test-key-is-here
                  requestId: test_GBP
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                title: Payout response
                properties:
                  id:
                    type: string
                    description: This payout's unique ID in Rocka's records.
                  amount:
                    format: decimal
                    type: number
                    description: Payout amount.
                  currency:
                    type: string
                    description: Payout currency.
                  requestId:
                    type: string
                    description: The payout's unique identifier (to prevent duplicate requests).
                  createdAt:
                    type: string
                    description: Date and time when the payout was registered by Rocka.
                  status:
                      description: 'Payout status.'
                      enum:
                      - Processing
                      - Executing
                      - Failed
                      - Done
                      type: string
                  iban:
                    type: string
                    description: Recipient's IBAN (International Bank Account Number).
                  beneficiaryName:
                    type: string
                    description: Recipient's full name.
                  beneficiaryRef:
                    type: string
                    description: Bank reference, which appears on the beneficiary's bank statement
                      once the payout arrives.
                required:
                - id
                - amount
                - currency
                - createdAt
                - status
                - iban
                - beneficiaryName
                - beneficiaryRef
          description: ''
        '400':
          description: Bad Request
        '401':
          description: Unauthorised
        '403':
          description: Forbidden
        '404':
          description: Not Found
      security:
      - APItoken: []
      tags:
      - Payouts
      x-codegen-request-body-name: request
      description: ''
      summary: Create a payout
    get:
      tags:
      - Payouts
      summary: Export payouts
      parameters:
      - name: dateFrom
        in: query
        schema:
          type: string
          format: date-time
          description: Only include payouts that were made after a certain date. YYYY-MM-DD.
        x-position: 1
      - name: dateTo
        in: query
        schema:
          type: string
          format: date-time
          description: Only include payouts that were made before a certain date.
            YYYY-MM-DD.
        x-position: 2
      - name: status
        in: query
        schema:
          type: string
          description: Payout status.
          enum:
          - Processing
          - Executing
          - Failed
          - Done
          - Rejected
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Payout ID.
                    amount:
                      type: number
                      format: double
                      description: The total amount that was transferred, in decimal format.
                    currency:
                      type: string
                      description: Payout currency.
                    status:
                      type: string
                      description: Payout status.
                    fee:
                      type: number
                      format: double
                      description: Total fees.
                    balanceAfterOperation:
                      type: number
                      format: double
                      nullable: true
                      description: Total balance remaining after this payout was completed.
                    balanceImpact:
                      type: number
                      format: double
                      description: The net change to the balance.
                    operationType:
                      type: string
                      description: Transaction type.
                    createdAt:
                      type: string
                      format: date-time
                      description: The date and time the payout transaction was created.
                    executedAt:
                      type: string
                      format: date-time
                      description: The date and time the payout transaction was completed.
                    receivedAt:
                      type: string
                      format: date-time
                      description: The date and time the recipient received the payout.
                    rejectReason:
                      type: string
                      description: The reason why the payout failed.
                  required:
                  - id
                  - amount
                  - currency
                  - fee
                  - balanceAfterOperation
                  - balanceImpact
                  - operationType
                  - createdAt
                  - executedAt
                  - receivedAt
                  - rejectReason
      security:
      - ApiKey: []

  "/api/payouts/{id}":
    get:
      operationId: Payouts_Get
      parameters:
      - in: path
        name: id
        required: true
        description: Payout's unique ID.
        schema:
          nullable: false
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                title: Payout response
                properties:
                  id:
                    type: string
                    description: This payout's unique ID in Rocka's records.
                  amount:
                    format: decimal
                    type: number
                    description: Payout amount.
                  currency:
                    type: string
                    description: Payout currency.
                  requestId:
                    type: string
                    description: The payout's unique identifier (to prevent duplicate requests).
                  createdAt:
                    type: string
                    description: Date and time when the payout was registered by Rocka.
                  status:
                     description: ''
                     enum:
                      - Processing
                      - Executing
                      - Failed
                      - Done
                  iban:
                    type: string
                    description: Recipient's IBAN (International Bank Account Number).
                  beneficiaryName:
                    type: string
                    description: Recipient's full name.
                  beneficiaryRef:
                    type: string
                    description: Bank reference, which appears on the beneficiary's bank statement
                      once the payout arrives.
                required:
                - id
                - amount
                - currency
                - createdAt
                - status
                - iban
                - beneficiaryName
                - beneficiaryRef


          description: ''
      security:
      - APItoken: []
      tags:
      - Payouts
      x-codegen-request-body-name: request
      description: ''
      summary: Check payout status



security:
- APItoken: []
servers:
- url: https://api.stage.rocka.live
  description: Sandbox
x-generator: NSwag v13.10.8.0 (NJsonSchema v10.3.11.0 (Newtonsoft.Json v13.0.0.0))
x-readme:
  explorer-enabled: true
  proxy-enabled: true


  securitySchemes:
    APItoken:
      description: To get your own API keys, complete your onboarding on https://hub.rocka.live.
      in: header
      name: x-api-key
      type: apiKey
      x-default: 24d0034-5a83-47d5-afa0-cca47298c516